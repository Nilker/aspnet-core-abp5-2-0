jQuery,app.modals.EditLanguageTextModal=function(){var e,a=abp.services.app.language,t=null;this.init=function(a){(t=(e=a).getModal().find("form[name=EditLanguageTextForm]")).validate()},this.save=function(){t.valid()&&(e.setBusy(!0),a.updateLanguageText(t.serializeFormToObject()).done(function(){abp.notify.info(app.localize("SavedSuccessfully")),e.close(),abp.event.trigger("app.editLanguageTextModalSaved")}).always(function(){e.setBusy(!1)}))}},$(function(){var e=$("#TextsTable"),a=abp.services.app.language,t=new app.ModalManager({viewUrl:abp.appPath+"AppAreaName/Languages/EditTextModal",scriptUrl:abp.appPath+"view-resources/Areas/AppAreaName/Views/Languages/_EditTextModal.js",modalClass:"EditLanguageTextModal"}),n=e.DataTable({paging:!0,serverSide:!0,processing:!0,listAction:{ajaxFunction:a.getLanguageTexts,inputFilter:function(){return{targetLanguageName:$("#TextTargetLanguageSelectionCombobox").val(),sourceName:$("#TextSourceSelectionCombobox").val(),baseLanguageName:$("#TextBaseLanguageSelectionCombobox").val(),targetValueFilter:$("#TargetValueFilterSelectionCombobox").val(),filterText:$("#TextFilter").val()}}},columnDefs:[{targets:0,data:"key",render:function(e){return'<span title="'+e+'">'+app.utils.string.truncate(e,32)+"</span>"}},{targets:1,data:"baseValue",render:function(e){return $("<span/>").attr("title",e||"").html(app.utils.string.truncate(e,32)||"")[0].outerHTML}},{targets:2,data:"targetValue",render:function(e){return $("<span/>").attr("title",e||"").html(app.utils.string.truncate(e,32)||"")[0].outerHTML}},{targets:3,data:null,orderable:!1,defaultContent:"",rowAction:{element:$('<button class="btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill" title="'+app.localize("Edit")+'"><i class="la la-edit"></i></button>').click(function(){var e=$(this).data();t.open({sourceName:$("#TextSourceSelectionCombobox").val(),baseLanguageName:$("#TextBaseLanguageSelectionCombobox").val(),languageName:$("#TextTargetLanguageSelectionCombobox").val(),key:e.key})})}}]});$("#TextBaseLanguageSelectionCombobox,#TextTargetLanguageSelectionCombobox").selectpicker({iconBase:"famfamfam-flag",tickIcon:"fa fa-check"}),$("#TextSourceSelectionCombobox,#TargetValueFilterSelectionCombobox").selectpicker({iconBase:"fa",tickIcon:"fa fa-check"}),$("#RefreshTextsButton").click(function(e){e.preventDefault(),o()}),$("#TextsFilterForm select").change(function(){o()}),$("#TextFilter").focus();var o=function(){n.ajax.reload()};abp.event.on("app.editLanguageTextModalSaved",function(){n.ajax.reloadPage()})});