var OrganizationTree=function(n){return function(){function r(){var i=!1;n("#OrganizationTreeFilter").keyup(function(){i&&clearTimeout(i);i=setTimeout(function(){var i=n("#OrganizationTreeFilter").val();t.jstree(!0).search(i)},250)})}function u(u){t=u;t.jstree({types:{"default":{icon:"fa fa-folder m--font-warning"},file:{icon:"fa fa-file  m--font-warning"}},checkbox:{keep_selected_style:!1,three_state:!1,cascade:""},search:{show_only_matches:!0},plugins:["checkbox","types","search"]});t.on("changed.jstree",function(r,u){if(u.node){var f;u.node.state.selected?(i(t.jstree("get_parent",u.node)),f=n.makeArray(t.jstree("get_children_dom",u.node)),t.jstree("select_node",f)):(f=n.makeArray(t.jstree("get_children_dom",u.node)),t.jstree("deselect_node",f))}});r()}function i(n){t.jstree("select_node",n,!0);var r=t.jstree("get_parent",n);r&&i(r)}function f(){for(var i=[],r=t.jstree("get_selected",!0),n=0;n<r.length;n++)i.push(r[n].id);return i}var t;return{init:u,getSelectedOrganizations:f}}}(jQuery);