var CurrentPage=function(){function n(){var n=$("input[name=PaymentPeriodType]:checked");$("input[name=DayCount]").val(n.data("day-count"))}function t(n){$("input[name=PaymentGatewayState]").val("created");$("input[name=PaymentId]").val(n.paymentID);$("input[name=PayerId]").val(n.payerID);$("#formPaymentResult").submit()}function i(){$("input[name=PaymentPeriodType]").change(function(){n()});$("input[name=PaymentPeriodType]:first").prop("checked",!0);n()}function r(){window.paypal.request.addHeaderBuilder(()=>{"X-XSRF-TOKEN":abp.security.antiForgery.getToken()});window.paypal.Button.render({style:{size:"responsive"},env:"sandbox",commit:!0,payment:function(){return window.paypal.request.post(abp.appPath+"TenantRegistration/CreatePayment",{editionId:$("input[name=EditionId]").val(),paymentPeriodType:$("input[name=PaymentPeriodType]:checked").val(),editionPaymentType:$("input[name=EditionPaymentType]").val(),gateway:$("input[name=Gateway]").val()}).then(function(n){return n.result.id})},onAuthorize:function(n){t(n)}},"#paypal-button")}function u(){i();r()}return{init:u}}();